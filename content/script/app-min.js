!function(n){var t=4,e=148,o=[3,11],a=[19.402,20.135,19.222,20.831,20.404],c=[24.595,25.063,24.817,25.516],s=[33.51,32.504,33.989],d=[49.423,50.575],r=[100],l=324,h=[25,144,323],f=[20.312,20.014,19.416,20.02,20.228],u=[25.072,24.9252,24.425,25.5625],p=[32.856,33.2935,33.838],g=[49.498,50.488],v=199,y=[1,2,3,53,57,59,76,77,78,101,153,154],w=[19.284,19.7,21.284,21.347,18.646],b=[23.931,25.134,25.185,25.825],k=[33.376,32.938,33.682],m=[49.085,50.93],A=29,E=[3,8,15],G=[22.85,16.48,16.18,29.79,19.655],G=[21.771,15.705,15.426,28.365,18.727],j=[22.471,26.018,22.478,30.76],C=[40.242,24.103,41.806],T=[44.91,56.29],x=38,B=[],S=[19.837,19.863,17.717,20.47,22.75],I=[23.004,23.022,27.042,27.618],q=[34.22,33.957,31.9],z=[49.749,50.254],H=[r,d,s,c,a],O=[r,g,p,u,f],Q=[r,T,C,j,G],W=[r,m,k,b,w],D=[r,z,q,I,S],K=["TSAARIAEG","SAKSAAEG","EESTIAEG","NKOGUDEAEG","PRAEGU"],P=[e,A,l,v,x],R=[o,E,h,y,B],U=[H,Q,O,W,D],J=["1","2","3","4","5","6","7","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","28","29","30","31","32","33","34","35","36","42","44","45","46","47","48","49","50","51","52","53","54","55","56"],L=["1","2","3","4","5","6","7","8","9","10","11","12","13","14","18","19","20","21","22","23","24","25","26","27","28","29"],M=n("header"),N=M.find(".nav-buttons-wrapper"),_=n(".video-container"),F=n(".page-logo");pageLang=n(".page-language"),backBtn=n(".overlay-back-button");var V=n(".cars-page-overlay"),X=n(".pictures-page-overlay"),Y=n(".contact-page-overlay"),Z=n(".picture-large-overlay"),$=N.find(".nav-button-two"),ii=N.find(".nav-button-one"),ni=Y.find(".contact-body"),ti=Y.find("ul"),ei=X.find("ul"),oi=X.find(".pictures-header hr"),ai=X.find(".static-theme-container"),ci=(X.find(".fixed-theme-container"),Z.find(".large-picture-container")),si=X.find(".pictures-body"),di=(Y.find(".contact-side"),V.find(".cars-body"));si.find(".thumb-div"),ni.find("#contact .heading"),ni.find("#history .heading"),ni.find("#documents .heading"),ni.find("#projects .heading");ti.children().on("click",function(){event.preventDefault();var i=(n(this).attr("href"),ni.find(n(this).attr("href")+" .heading")),t=i.position().top,e=Y.scrollTop(),o="calc(100vh + "+t+"px + "+e+"px)";ni.css({height:o}),Y.animate({scrollTop:t+e},300)});var ri=function(){var t=di.children(),e=t.filter(function(){return"none"!==n(this).css("display")}).length;for(i=0;i<J.length;i++)t.eq(i%e).append('<img src="content/images/ekspositsioon/'+J[i]+'.JPG"/>');for(i=0;i<L.length;i++)t.eq(i%e).append('<img src="content/images/events/'+L[i]+'.jpg"/>')},li=function(t){var e=si.children();e.html("");var o,a=e.filter(function(){return"none"!==n(this).css("display")}).length,c=K[t],s=P[t],d=R[t],r=U[t][a-1];for(i=0;i<a;i++)e.eq(i).css({width:r[i]+"%"});for(i=0;i<s;i++)-1==jQuery.inArray(i,d)&&(i<10?o="000":i<100?o="00":i<1e3&&(o="0"),e.eq(i%a).append('<img src="content/images/ajastud/'+c+"/IMG_"+o+i+'.jpg"/>'))};li(t);var hi=function(){if(!jQuery.browser.mobile){for(var i=n(".video-container").find("video"),t=i.find("source"),e=0;e<t.length;e++)t[e].setAttribute("src",t[e].getAttribute("data-src"));i.load()}};$.on("click",function(){X.hasClass(".no-display")&&(X.removeClass(".no-display"),li(0))}),ii.on("click",function(){V.hasClass(".no-display")&&(V.removeClass(".no-display"),ri())}),hi();var fi=function(){windowWidth=n(window).width(),windowHeight=n(window).height(),windowWidth<1.85*windowHeight?(F.hide(),windowWidth<1.4*windowHeight?_.find("video").css({width:"auto"}):_.find("video").css({width:"100%"})):"none"==backBtn.css("display")&&F.show()},ui=function(){_.find("video").get(0).play(),n(".cars-page-overlay, .pictures-page-overlay, .contact-page-overlay").fadeOut(300,function(){N.css({"z-index":"3"})})},pi=function(){Z.fadeOut(200,function(){})};ei.children().on("click",function(){si.children();if(!n(this).hasClass(".active")){n(this).siblings().css({background:"none"});var i=n(this).attr("data-title");li(i),n(this).css({background:"rgba(250,250,250,0.2)"}),n(this).siblings().removeClass(".active"),n(this).addClass(".active")}}),X.scroll(function(){var i=n(this).scrollTop();if(100>=i){var t=String(1-.01*i);ai.css("opacity",t),oi.css("opacity",t)}else ai.css("opacity","0"),oi.css("opacity","0")}),si.children().on("click","img",function(){var i=ci.find(".large-picture-close"),t=n(this).attr("src");console.log(i),ci.css({background:"url("+t+") no-repeat center center","background-size":"contain"}),console.log(n(this)[0]);var e=n(this).width(),o=n(this).position().left;console.log(o+e),i.css({"left:":o+e+"px !important"}),Z.fadeIn(200,function(){})}),ci.find(".large-picture-close").on("click",function(){}),N.children().children().on("click",function(){var i="."+n(this).attr("data-overlay");N.css({"z-index":"3"}),n(i).fadeIn(300,function(){F.hide(),backBtn.show(),n(this).css({display:"flex"}),_.find("video").get(0).pause()})}),backBtn.on("click",function(){backBtn.hide(),F.show(),fi(),ui()}),n(document).keydown(function(i){27===i.which&&("none"==Z.css("display")?(_.find("video").get(0).play(),backBtn.hide(),F.show(),fi(),ui()):pi())}),fi();var gi;n(window).on("resize",function(){clearTimeout(gi),gi=setTimeout(function(){fi()},100)})}(jQuery);
