!function(n){var t=148,e=[3,11],o=[19.34,20.055,19.617,20.739,20.312],a=[24.491,24.944,24.708,25.903],c=[33.353,32.84,33.822],s=[49.194,50.833],d=[100],r=324,l=[25,144,323],f=[20.308,20.014,19.444,20.026,20.231],h=[25.08,24.934,24.454,25.558],u=[32.87,33.31,33.834],p=[49.522,50.487],g=199,v=[1,2,3,53,57,59,76,77,78,101,153,154],y=[19.293,19.717,21.257,21.328,18.685],w=[23.951,25.134,25.181,25.807],b=[33.38,32.948,33.681],m=[49.105,50.929],k=29,A=[3,8,15],E=[22.85,16.564,16.285,29.684,19.697],G=[22.498,25.972,22.518,30.638],j=[40.219,24.283,41.744],C=[44.994,56.26],T=38,x=[],B=[19.837,19.863,17.747,20.47,22.705],S=[23.052,23.067,27.012,27.589],I=[34.207,33.957,31.931],z=[49.749,50.254],q=[d,s,c,a,o],H=[d,p,u,h,f],O=[d,C,j,G,E],Q=[d,m,b,w,y],W=[d,z,I,S,B],P=["TSAARIAEG","SAKSAAEG","EESTIAEG","NKOGUDEAEG","PRAEGU"],D=[t,k,r,g,T],K=[e,A,l,v,x],R=[q,O,H,Q,W],U=["1","2","3","4","5","6","7","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","28","29","30","31","32","33","34","35","36","42","44","45","46","47","48","49","50","51","52","53","54","55","56"],_=["1","2","3","4","5","6","7","8","9","10","11","12","13","14","18","19","20","21","22","23","24","25","26","27","28","29"],N=n("header"),J=N.find(".nav-buttons-wrapper"),L=n(".video-container"),M=n(".page-logo");pageLang=n(".page-language"),backBtn=n(".overlay-back-button");var F=n(".cars-page-overlay"),V=n(".pictures-page-overlay"),X=n(".contact-page-overlay"),Y=n(".picture-large-overlay"),Z=J.find(".nav-button-two"),$=J.find(".nav-button-one"),ii=X.find(".contact-body"),ni=X.find("ul"),ti=V.find("ul"),ei=V.find(".pictures-header hr"),oi=V.find(".static-theme-container"),ai=(V.find(".fixed-theme-container"),Y.find(".large-picture-container")),ci=V.find(".pictures-body"),si=(X.find(".contact-side"),F.find(".cars-body")),di=ci.find(".thumb-div");ii.find("#contact .heading"),ii.find("#history .heading"),ii.find("#documents .heading"),ii.find("#projects .heading");ni.children().on("click",function(){event.preventDefault();var i=(n(this).attr("href"),ii.find(n(this).attr("href")+" .heading")),t=i.position().top,e=X.scrollTop(),o="calc(100vh + "+t+"px + "+e+"px)";ii.css({height:o}),X.animate({scrollTop:t+e},300)});var ri=function(){var t=si.children(),e=t.filter(function(){return"none"!==n(this).css("display")}).length;for(i=0;i<U.length;i++)t.eq(i%e).append('<img src="content/images/ekspositsioon/'+U[i]+'.JPG"/>');for(i=0;i<_.length;i++)t.eq(i%e).append('<img src="content/images/events/'+_[i]+'.jpg"/>')},li=function(t){var e=ci.children();e.html("");var o,a=e.filter(function(){return"none"!==n(this).css("display")}).length,c=P[t],s=D[t],d=K[t],r=R[t][a-1];for(console.log(r),i=0;i<a;i++)e.eq(i).css({width:r[i]+"%"});for(i=0;i<s;i++)-1==jQuery.inArray(i,d)&&(i<10?o="000":i<100?o="00":i<1e3&&(o="0"),e.eq(i%a).append('<img src="content/images/ajastud/'+c+"/IMG_"+o+i+'.jpg"/>'))},fi=function(){if(!jQuery.browser.mobile){for(var i=n(".video-container").find("video"),t=i.find("source"),e=0;e<t.length;e++)t[e].setAttribute("src",t[e].getAttribute("data-src"));i.load()}};Z.on("click",function(){V.hasClass(".no-display")&&(V.removeClass(".no-display"),li(0))}),$.on("click",function(){F.hasClass(".no-display")&&(F.removeClass(".no-display"),ri())}),fi();var hi=function(){windowWidth=n(window).width(),windowHeight=n(window).height(),windowWidth<1.85*windowHeight?(M.hide(),windowWidth<1.4*windowHeight?L.find("video").css({width:"auto"}):L.find("video").css({width:"100%"})):"none"==backBtn.css("display")&&M.show()},ui=function(){L.find("video").get(0).play(),n(".cars-page-overlay, .pictures-page-overlay, .contact-page-overlay").fadeOut(300,function(){J.css({"z-index":"3"})})},pi=function(){Y.fadeOut(200,function(){})};ti.children().on("click",function(){var i=ci.children();if(i.each(function(){console.log(n(this).height())}),!n(this).hasClass(".active")){n(this).siblings().css({background:"none"});var t=n(this).attr("data-title");li(t),n(this).css({background:"rgba(250,250,250,0.2)"}),n(this).siblings().removeClass(".active"),n(this).addClass(".active")}}),V.scroll(function(){var i=n(this).scrollTop();if(100>=i){var t=String(1-.01*i);oi.css("opacity",t),ei.css("opacity",t)}else oi.css("opacity","0"),ei.css("opacity","0")}),di.on("click",function(){}),ai.find(".large-picture-close").on("click",function(){}),J.children().children().on("click",function(){var i="."+n(this).attr("data-overlay");J.css({"z-index":"3"}),n(i).fadeIn(300,function(){M.hide(),backBtn.show(),n(this).css({display:"flex"}),L.find("video").get(0).pause()})}),backBtn.on("click",function(){backBtn.hide(),M.show(),hi(),ui()}),n(document).keydown(function(i){27===i.which&&("none"==Y.css("display")?(L.find("video").get(0).play(),backBtn.hide(),M.show(),hi(),ui()):pi())}),hi();var gi;n(window).on("resize",function(){clearTimeout(gi),gi=setTimeout(function(){hi()},100)})}(jQuery);
