!function(n){var t=0,e=148,c=[3,11],r=324,o=[25,144,323],a=199,s=[1,2,3,53,57,59,76,77,78,101,153,154],l=29,u=[3,8,15],d=41,f=[],h=["TSAARIAEG","SAKSAAEG","EESTIAEG","NKOGUDEAEG","PRAEGU"],g=[e,l,r,a,d],p=[c,u,o,s,f],v=e-parseInt(c.length),m=r-parseInt(o.length),y=l-parseInt(u.length),b=a-parseInt(s.length),k=d-parseInt(f.length),A=[v,y,m,b,k];n(".page-logo");pageLang=n(".page-language");var w=n(".pictures-page-overlay"),I=n(".picture-large-overlay"),E=w.find("header"),G=w.find(".pictures-side"),C=w.find(".pictures-header hr"),q=w.find(".static-theme-container"),S=(w.find(".fixed-theme-container"),G.find("ul")),T=E.find(".mobile-nav"),_=E.find(".mobile-nav-ul"),j=_.find("li"),U=I.find(".large-picture-container"),z=w.find(".pictures-body"),K=(z.find(".thumb-div"),!1),O=function(t){var e=z.children();e.html("");var c=e.filter(function(){return"none"!==n(this).css("display")}).length;prev_cols_count=c;var r,o=h[t],a=g[t],s=p[t];for(i=0;i<c;i++)e.eq(i).css({width:100/c+"%"});for(i=0;i<a;i++)-1==jQuery.inArray(i,s)&&(i<10?r="000":i<100?r="00":i<1e3&&(r="0"),e.eq(i%c).append('<img src="/content/images/ajastud/'+o+"/IMG_"+r+i+'.jpg"/>'))},Q=function(){var t=z.children(),e=t.filter(function(){return"none"!==n(this).css("display")}).length,c=[0,0,0,0,0],r=0,o=100/e,a=0;for(i=0;i<e;i++)r+=t.eq(i).height();for(a=r/e,i=0;i<e;i++)c[i]=a/t.eq(i).height()*o;for(i=0;i<e;i++)t.eq(i).css({width:c[i]+"%"})},R=function(i){imgCounter=0,z.find("img").load(function(){imgCounter++,imgCounter>=i&&Q()})};T.on("click",function(){K?(_.hide(300),K=!1):(_.show(300),K=!0)});var x=function(){I.fadeOut(200,function(){})};S.children().on("click",function(){if(!n(this).hasClass("active")){z.children();j.css({background:"none"}),n(this).siblings().css({background:"none"}),t=n(this).attr("data-title");var i=_.find("li[data-title="+t+"]");O(t),R(A[t]),n(this).css({background:"rgba(250,250,250,0.2)"}),n(this).siblings().removeClass("active"),n(this).addClass("active"),i.css({background:"rgba(250,250,250,0.2)"}),i.siblings().removeClass("active"),i.addClass("active")}}),j.on("click",function(){if(!n(this).hasClass("active")){z.children();j.css({background:"none"}),S.find("li").css({background:"none"}),t=n(this).attr("data-title");var i=S.find("li[data-title="+t+"]");O(t),R(A[t]),n(this).css({background:"rgba(250,250,250,0.2)"}),n(this).siblings().removeClass("active"),n(this).addClass("active"),i.css({background:"rgba(250,250,250,0.2)"}),i.siblings().removeClass("active"),i.addClass("active")}}),z.scroll(function(){var i=n(this).scrollTop();if(100>=i){var t=String(1-.01*i);q.css("opacity",t),C.css("opacity",t)}else q.css("opacity","0"),C.css("opacity","0")}),I.on("click",function(){x()}),z.children().on("click","img",function(){var i=n(window).width();if(!(750>=i)){var t=n(this).attr("src");U.css({background:"url("+t+") no-repeat center center","background-size":"contain"}),I.fadeIn(200,function(){})}}),n(document).keydown(function(i){27===i.which&&x()});var D=function(){var i=z.children().filter(function(){return"none"!==n(this).css("display")}).length;prev_cols_count!=i&&(O(t),R(A[t]))};n(document).ready(function(){O(t),R(A[t])});var L;n(window).on("resize",function(){clearTimeout(L),L=setTimeout(function(){D()},50)})}(jQuery);
