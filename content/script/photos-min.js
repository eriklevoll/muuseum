!function(n){var e=0,t=148,o=[3,11],r=324,s=[25,144,323],c=199,a=[1,2,3,53,57,59,76,77,78,101,153,154],l=29,u=[3,8,15],f=41,d=[],h=["TSAARIAEG","SAKSAAEG","EESTIAEG","NKOGUDEAEG","PRAEGU"],g=[t,l,r,c,f],p=[o,u,s,a,d],v=t-parseInt(o.length),y=r-parseInt(s.length),m=l-parseInt(u.length),b=c-parseInt(a.length),k=f-parseInt(d.length),w=[v,m,y,b,k];n(".page-logo");pageLang=n(".page-language");var q=n(".pictures-page-overlay"),I=n(".picture-large-overlay"),A=q.find("ul"),T=q.find(".pictures-header hr"),j=q.find(".static-theme-container"),G=(q.find(".fixed-theme-container"),I.find(".large-picture-container")),x=q.find(".pictures-body"),Q=(x.find(".thumb-div"),function(e){var t=x.children();t.html("");var o=t.filter(function(){return"none"!==n(this).css("display")}).length;prev_cols_count=o;var r,s=h[e],c=g[e],a=p[e];for(i=0;i<o;i++)t.eq(i).css({width:100/o+"%"});for(i=0;i<c;i++)-1==jQuery.inArray(i,a)&&(i<10?r="000":i<100?r="00":i<1e3&&(r="0"),t.eq(i%o).append('<img src="/content/images/ajastud/'+s+"/IMG_"+r+i+'.jpg"/>'))}),E=function(){var e=x.children(),t=e.filter(function(){return"none"!==n(this).css("display")}).length,o=[0,0,0,0,0],r=0,s=100/t,c=0;for(i=0;i<t;i++)r+=e.eq(i).height();for(c=r/t,i=0;i<t;i++)o[i]=c/e.eq(i).height()*s;for(i=0;i<t;i++)e.eq(i).css({width:o[i]+"%"})},C=function(i){imgCounter=0,x.find("img").load(function(){imgCounter++,imgCounter>=i&&E()})},z=function(){I.fadeOut(200,function(){})};A.children().on("click",function(){x.children();n(this).hasClass(".active")||(n(this).siblings().css({background:"none"}),e=n(this).attr("data-title"),Q(e),C(w[e]),n(this).css({background:"rgba(250,250,250,0.2)"}),n(this).siblings().removeClass(".active"),n(this).addClass(".active"))}),x.scroll(function(){var i=n(this).scrollTop();if(100>=i){var e=String(1-.01*i);j.css("opacity",e),T.css("opacity",e)}else j.css("opacity","0"),T.css("opacity","0")}),x.children().on("click","img",function(){var i=n(window).width();if(!(750>=i)){var e=G.find(".large-picture-close"),t=n(this).attr("src");G.css({background:"url("+t+") no-repeat center center","background-size":"contain"});var o=n(this).width(),r=n(this).position().left;e.css({"left:":r+o+"px !important"}),I.fadeIn(200,function(){})}}),n(".picture-large-overlay").find("span").on("click",function(){z()}),n(document).keydown(function(i){27===i.which&&z()});var S=function(){var i=x.children().filter(function(){return"none"!==n(this).css("display")}).length;prev_cols_count!=i&&(Q(e),C(w[e]))};n(document).ready(function(){Q(e),C(w[e])});var _;n(window).on("resize",function(){clearTimeout(_),_=setTimeout(function(){S()},50)})}(jQuery);
