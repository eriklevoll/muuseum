!function(n){var t=0,e=148,o=[3,11],c=324,a=[25,144,323],r=199,s=[1,2,3,53,57,59,76,77,78,101,153,154],l=29,d=[3,8,15],h=38,f=[],u=["TSAARIAEG","SAKSAAEG","EESTIAEG","NKOGUDEAEG","PRAEGU"],p=[e,l,c,r,h],g=[o,d,a,s,f],v=e-parseInt(o.length),y=c-parseInt(a.length),w=l-parseInt(d.length),m=r-parseInt(s.length),b=h-parseInt(f.length),k=[v,w,y,m,b];n(".page-logo");pageLang=n(".page-language");var A=n(".pictures-page-overlay"),T=n(".picture-large-overlay"),j=A.find("ul"),x=A.find(".pictures-header hr"),E=A.find(".static-theme-container"),G=(A.find(".fixed-theme-container"),T.find(".large-picture-container")),I=A.find(".pictures-body"),C=(I.find(".thumb-div"),function(t){var e=I.children();e.html("");var o=e.filter(function(){return"none"!==n(this).css("display")}).length;prev_cols_count=o;var c,a=u[t],r=p[t],s=g[t];for(i=0;i<o;i++)e.eq(i).css({width:100/o+"%"});for(i=0;i<r;i++)-1==jQuery.inArray(i,s)&&(i<10?c="000":i<100?c="00":i<1e3&&(c="0"),e.eq(i%o).append('<img src="/content/images/ajastud/'+a+"/IMG_"+c+i+'.jpg"/>'))}),S=function(){var t=I.children(),e=t.filter(function(){return"none"!==n(this).css("display")}).length,o=[0,0,0,0,0],c=0,a=100/e,r=0;for(i=0;i<e;i++)c+=t.eq(i).height();for(r=c/e,i=0;i<e;i++)o[i]=r/t.eq(i).height()*a;for(i=0;i<e;i++)t.eq(i).css({width:o[i]+"%"})},q=function(n){imgCounter=0,I.find("img").load(function(){imgCounter++,imgCounter>=n&&S()})},Q=function(){T.fadeOut(200,function(){})};j.children().on("click",function(){I.children();n(this).hasClass(".active")||(n(this).siblings().css({background:"none"}),t=n(this).attr("data-title"),C(t),q(k[t]),n(this).css({background:"rgba(250,250,250,0.2)"}),n(this).siblings().removeClass(".active"),n(this).addClass(".active"))}),A.scroll(function(){var i=n(this).scrollTop();if(100>=i){var t=String(1-.01*i);E.css("opacity",t),x.css("opacity",t)}else E.css("opacity","0"),x.css("opacity","0")}),I.children().on("click","img",function(){var i=n(window).width();if(750>=i)return void console.log("ei");var t=G.find(".large-picture-close"),e=n(this).attr("src");console.log(t),G.css({background:"url("+e+") no-repeat center center","background-size":"contain"}),console.log(n(this)[0]);var o=n(this).width(),c=n(this).position().left;console.log(c+o),t.css({"left:":c+o+"px !important"}),T.fadeIn(200,function(){})}),n(".picture-large-overlay").find("span").on("click",function(){Q()}),n(document).keydown(function(n){27===n.which&&Q()});var _=function(){var i=I.children().filter(function(){return"none"!==n(this).css("display")}).length;prev_cols_count!=i&&(console.log(prev_cols_count),console.log(i),C(t),q(k[t]))};C(t),q(k[t]);var D;n(window).on("resize",function(){clearTimeout(D),D=setTimeout(function(){_()},200)})}(jQuery);
