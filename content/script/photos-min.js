!function(n){var t=0,e=148,o=[3,11],r=324,c=[25,144,323],a=199,s=[1,2,3,53,57,59,76,77,78,101,153,154],d=29,u=[3,8,15],l=38,f=[],h=["TSAARIAEG","SAKSAAEG","EESTIAEG","NKOGUDEAEG","PRAEGU"],g=[e,d,r,a,l],w=[o,u,c,s,f],p=e-parseInt(o.length),v=r-parseInt(c.length),b=d-parseInt(u.length),y=a-parseInt(s.length),m=l-parseInt(f.length),k=[p,b,v,y,m];n(".page-logo");pageLang=n(".page-language");var A=n(".pictures-page-overlay"),T=n(".picture-large-overlay"),I=A.find("ul"),j=A.find(".pictures-header hr"),E=A.find(".static-theme-container"),G=(A.find(".fixed-theme-container"),T.find(".large-picture-container")),B=A.find(".pictures-body"),C=(B.find(".thumb-div"),function(t){var e=B.children();e.html("");var o=e.filter(function(){return"none"!==n(this).css("display")}).length;prev_cols_count=o;var r,c=h[t],a=g[t],s=w[t];for(i=0;i<o;i++)e.eq(i).css({width:100/o+"%"});for(i=0;i<a;i++)-1==jQuery.inArray(i,s)&&(i<10?r="000":i<100?r="00":i<1e3&&(r="0"),e.eq(i%o).append('<img src="/content/images/ajastud/'+c+"/IMG_"+r+i+'.jpg"/>'))}),q=function(){var t=B.children(),e=t.filter(function(){return"none"!==n(this).css("display")}).length,o=[0,0,0,0,0],r=0,c=100/e,a=0;for(i=0;i<e;i++)r+=t.eq(i).height();for(a=r/e,i=0;i<e;i++)o[i]=a/t.eq(i).height()*c;for(i=0;i<e;i++)t.eq(i).css({width:o[i]+"%"})},Q=function(i){imgCounter=0,B.find("img").load(function(){imgCounter++,imgCounter>=i&&q()})},H=function(){T.fadeOut(200,function(){})};I.children().on("click",function(){B.children();n(this).hasClass(".active")||(n(this).siblings().css({background:"none"}),t=n(this).attr("data-title"),C(t),Q(k[t]),n(this).css({background:"rgba(250,250,250,0.2)"}),n(this).siblings().removeClass(".active"),n(this).addClass(".active"))}),B.scroll(function(){var i=n(this).scrollTop();if(100>=i){var t=String(1-.01*i);E.css("opacity",t),j.css("opacity",t)}else E.css("opacity","0"),j.css("opacity","0")}),B.children().on("click","img",function(){var i=n(window).width();if(750>=i)return void console.log("ei");var t=G.find(".large-picture-close"),e=n(this).attr("src");console.log(t),G.css({background:"url("+e+") no-repeat center center","background-size":"contain"});var o=n(this).width(),r=n(this).position().left;t.css({"left:":r+o+"px !important"}),T.fadeIn(200,function(){})}),n(".picture-large-overlay").find("span").on("click",function(){H()}),n(document).keydown(function(i){27===i.which&&H()});var W=function(){var i=B.children().filter(function(){return"none"!==n(this).css("display")}).length;prev_cols_count!=i&&(C(t),Q(k[t]))};n(document).ready(function(){C(t),Q(k[t])});var z;n(window).on("resize",function(){clearTimeout(z),z=setTimeout(function(){W()},50)})}(jQuery);
